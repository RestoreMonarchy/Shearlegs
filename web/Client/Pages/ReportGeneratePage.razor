@page "/reports/{ReportId:int}/generate"

@if (Report != null)
{
    <div class="bg-light mt-3 p-4">
        <div class="mb-3"> 
            <h1>Generate @Report.Name Report</h1>
            <p class="text-muted">@Report.Description</p>
        </div>
        
        <form name="reportParameters">
            @foreach (var parameter in Report.Parameters)
            {
                <div class="mb-3">
                    <label class="form-label">@parameter.Name</label>
                    <input type="@parameter.InputType" name="@parameter.Name" class="form-control">
                </div>
            }
        </form>
        <button class="btn btn-primary mt-3" @onclick="GenerateReportAsync">Generate Report</button>
    </div>

    <div class="mt-5">
        @if (reportArchive != null)
        {
            <a class="btn btn-primary" href="/api/reports/archive/@reportArchive.Id/file">Download @reportArchive.Name</a>
        }
    </div>
}
